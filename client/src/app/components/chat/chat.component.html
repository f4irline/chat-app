<div class="paper elevate-1 container">
  <div class="row chat-wrapper">
      <div class="col-sm-3 text-center vertical-divider align-self-start side-scroll-container">
        <app-sidebar (pm)="onPm($event)" [userDetails]="userDetails" [users]="users"></app-sidebar>
      </div>
      <div class="col-sm-9 text-center chat-container">
        <div class="room-wrapper row">
          <div class="col-sm-12 align-self-start">
            <h4 class="display-5">Room: {{room.roomName}}</h4>
            <hr>
          </div>
        </div>
        <div class="chat-scroll-container row">
          <div class="col-sm-12 align-self-end">
            <app-message (pm)="onPm($event)" *ngFor="let msg of messages" [msg]="msg" [userName]="userDetails.userName"></app-message>
            <hr>
            <div class="text-left error-container">
              <p class="lead" [@fade]='receiverError' *ngIf="receiverError">
                {{errorString ? errorString : 'Error in message'}}
              </p>
            </div>
            <div class="text-right typing-container">
              <p class="lead" [ngClass]="{'hidden': whoisTyping.userName ? false : true}">{{whoisTyping.userName}} is typing...</p>
            </div>  
            <form class="form-inline chat-controls">
              <input type="text" 
                #msgInput
                class="form-control fill-parent" 
                name="msg" 
                [ngModel]="msg.msg"
                (ngModelChange)="msgChanged($event)"
                placeholder="Enter text.">
              <button type="submit" class="btn btn-primary margin-left-1" (keyup.enter)="send()" (click)="send()">Send</button>
            </form>
          </div>
        </div>
      </div>
  </div>
</div>
